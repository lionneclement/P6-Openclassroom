{% extends 'base.html.twig' %}

{% block title %}Accueil !{% endblock %}

{% block body %}
  <header>
    <div class="jumbotron jumbotron-fluid mt-5" id="accueil">
      <div class="container text-center">
        <h1>Snowboard</h1>
        <p>
            Mon objectif est de crée un site collaboratif pour faire connaître ce sport auprès du grand public et aider à l'apprentissage des tricks.
        </p>
      </div>
      <div class="scroll-container">
        <a href="/#tricks">
          <i class="fas fa-arrow-down hover-arrow fa-2x"></i>
        </a>
   </div>
    </div>
  </header>
    {% for message in app.flashes('success') %}
      <div class="alert alert-success text-center" role="alert">
          {{ message }}
      </div>
    {% endfor %}
<section class="pb-5">
    <div class="container text-center pb-5" id="tricks">
        <div class="row">
            {% for trick in tricks %}
              <div class="col-md-6 col-lg-3 py-3" id="trickJs">
                 <div class="card h-100">
                    <img src="{{ asset('Images/default.jpg')}}" class="card-img-top" alt="Snowboard freestyle">
                    <div class="card-body">
                        <h5 class="card-title">{{ trick.title|capitalize }} </h5>
                        <p class="card-text">{{ trick.description|slice(0, 50)}} ...</p>
                        <a class="btn btn-secondary" href="{{ path('show_trick', {'id':trick.id}) }}">Voir plus</a>
                        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                          <a class="btn btn-secondary" href="{{ path('update_trick', {'id':trick.id}) }}"><i class="fas fa-pen"></i></a>
                          <a class="btn btn-secondary" href="{{ path('remove_trick', {'id':trick.id}) }}"><i class="fas fa-trash-restore"></i></a>
                        {% endif %}
                    </div>
                  </div>
            </div>
            {% endfor %}
        </div>
        <button class="btn btn-secondary" id="buttonMoreJs">Voir plus</button>
          {% if not tricks %}
              <div class="alert alert-danger text-center" role="alert">
                Il n'y as pas encore de trick.
              </div>     
              <a href="{{ path('create_trick') }}" class="btn btn-secondary">Ajouter un trick</a>      
          {% endif %}
    </div>
</section>
{% endblock %}


{% block javascripts %}
    {{ parent() }}
    <script id="myscript" src="{{ asset('js/pagination.js') }}" listsId="#trickJs" buttonId="#buttonMoreJs" max="4"></script>
{% endblock %}